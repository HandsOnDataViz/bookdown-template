<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Images | Bookdown testing</title>
  <meta name="description" content="This is a test book" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Images | Bookdown testing" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://handsondataviz.github.io/bookdown-testing" />
  
  <meta property="og:description" content="This is a test book" />
  <meta name="github-repo" content="handsondataviz/bookdown-testing" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Images | Bookdown testing" />
  
  <meta name="twitter:description" content="This is a test book" />
  

<meta name="author" content="Jack Dougherty" />
<meta name="author" content="Ilya Ilyankou" />


<meta name="date" content="2020-05-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="style-guide.html"/>
<link rel="next" href="chapter2.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script>
  // adjust web edition height or width of iframe for specific figure references, using tilde (~iframe)
$(document).ready(function() {
  $("#fig\\:sample-map~iframe").attr("height", "600px");
  $("#fig\\:sample-map~iframe").attr("width", "100%");
  $("#fig\\:excel-drag~iframe").attr("height", "450px");
  $("#fig\\:excel-drag~iframe").attr("width", "50%");
})
</script>



<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Bookdown testing</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="copyright-and-open-access.html"><a href="copyright-and-open-access.html"><i class="fa fa-check"></i>Copyright and Open-Access</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="chapter1.html"><a href="chapter1.html"><i class="fa fa-check"></i><b>1</b> Publishing with Bookdown</a>
<ul>
<li class="chapter" data-level="" data-path="file-organization.html"><a href="file-organization.html"><i class="fa fa-check"></i>File Organization and Headers</a></li>
<li class="chapter" data-level="" data-path="style-guide.html"><a href="style-guide.html"><i class="fa fa-check"></i>Style Guide</a></li>
<li class="chapter" data-level="" data-path="images.html"><a href="images.html"><i class="fa fa-check"></i>Images</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chapter2.html"><a href="chapter2.html"><i class="fa fa-check"></i><b>2</b> Supplements</a>
<ul>
<li class="chapter" data-level="" data-path="section-header.html"><a href="section-header.html"><i class="fa fa-check"></i>Section Header</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Bookdown testing</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="images" class="section level2 unnumbered" number="">
<h2>Images</h2>
<p>Create high-resolution color images that will appear in grayscale in print book. Organize static .jpg and .png files, and animated .gif files, into the <code>images</code> subfolder by chapter. Write file names in lowercase with dashes (not spaces) and begin with keyword of relevant section to keep related images grouped together. Despite being in separate folders, avoid duplicate image file names across the book. Avoid numbering images since they may not match the final sequence. When appropriate, make two image versions (with and without additional text or art) and add “raw” to the latter file name.</p>
<p>For larger .jpg or .png images (taller than 400px?), use a photo-editing tool (<em>not Preview</em>) to create a .pdf version with smaller dimensions but resampled at a higher resolution, and save with same name in the same folder. We inserted global R code-chunk settings immediately after the first header in the <code>index.Rmd</code> file, to display each code-chunk image without a code echo, and to automatically substitute PDF images over PNG/JPG with the same file name, when available, <em>for the PDF book output only</em>, to improve its general appearance for the editing process:</p>
<pre><code>{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
options(knitr.graphics.auto_pdf = TRUE)</code></pre>
<p>Sample set of file names for JPG, smaller high-res PDF, and JPG without text or art:</p>
<pre><code>images/05-chart/design-no-junk.jpg
images/05-chart/design-no-junk.pdf
images/05-chart/design-no-junk-raw.jpg</code></pre>
<p>In this book, only use Markdown formatting for images that appear inside tables and do <em>not</em> require captions or figure numbering, and leave the caption field blank:</p>
<table>
<thead>
<tr class="header">
<th>Co-Authors</th>
<th>About Us</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><img src="images/dougherty-jack.jpg" /></td>
<td>See <a href="http://jackdougherty.org">Jack Dougherty</a></td>
</tr>
<tr class="even">
<td><img src="images/ilyankou-ilya.jpg" /></td>
<td>See <a href="https://github.com/ilyankou">Ilya Ilyankou</a></td>
</tr>
</tbody>
</table>
<p>TODO: Fix resolution of images above. Maybe use conditional formatting, or add higher-resolution images under different file name for substitution by publisher?</p>
<p>Although Markdown formatting offers a simple syntax that easily converts into other formats with Bookdown/Pandoc, there is no auto-numbering in the HTML edition, while auto-numbering appears in the PDF edition, and numbered figures are required by the publisher. Furthermore, Markdown formatting does not allow conditional output.</p>
<p>For these reasons, this book primarily uses R code-chunk formatting for images. The syntax is more complex but supports auto-numbering in HTML and PDF, and conditional output for interactive and static images. Note that R code-chunk images do <em>not</em> easily convert with Pandoc from Markdown to AsciiDoc, but “Figure x Caption” appears as a placeholder.</p>
<p>Auto-numbering appears in <code>Figure x.x</code> format in HTML and PDF, but <code>Figure x</code> format in MS Word. TODO: Check if Word formatting can be changed with reference.docx.</p>
<p>Note that images in PDF output will “float” by design and may appear before or after the desired page, so always add a cross-reference call-out.</p>
<p>Write R code-chunk labels that follow the image file name, and avoid duplicate labels across the book:</p>
<pre><code>ref:design-no-junk

images/05-chart/design-no-junk.png</code></pre>
<div id="demo-r-code-chunk-for-static-image" class="section level3 unnumbered" number="">
<h3>Demo: R code-chunk for static image</h3>
<p>…as shown in Figure <a href="images.html#fig:tiger">1.1</a>.</p>

<div class="figure"><span id="fig:tiger"></span>
<img src="images/tiger.png" alt="Caption here. Markdown embedded links are acceptable."  />
<p class="caption">
Figure 1.1: Caption here. Markdown embedded links are acceptable.
</p>
</div>
<p>R code-chunks allow more complex conditional formatting, where an interactive map or animated GIF or YouTube video clip appears in the web version, and a static image with an embedded link appears in the PDF and MS Word outputs. Also note the option to change the default iframe height (400px) and width with settings in the <code>custom-scripts.html</code> file, with a code comment reminder.</p>
</div>
<div id="demo-r-code-chunk-for-html-iframe-and-static-image" class="section level3 unnumbered" number="">
<h3>Demo: R code-chunk for HTML iframe and static image</h3>
<p>…as shown in Figure <a href="images.html#fig:sample-map">1.2</a>.</p>

<!-- set iframe 600px height 100% width in custom-scripts.html -->
<div class="figure"><span id="fig:sample-map"></span>
<iframe src="https://handsondataviz.github.io/leaflet-maps-with-google-sheets/" width="672" height="400px">
</iframe>
<p class="caption">
Figure 1.2: Caption here, and add embedded link to explore the <a href="https://handsondataviz.github.io/leaflet-maps-with-google-sheets/">full-screen interactive map</a>.
</p>
</div>
</div>
<div id="demo-r-code-chunk-for-gif-animation-and-static-image" class="section level3 unnumbered" number="">
<h3>Demo: R code-chunk for GIF animation and static image</h3>
<p>…as shown in Figure <a href="images.html#fig:excel-drag">1.3</a>.</p>

<!-- set iframe 450px height 50% width in custom-scripts.html -->
<div class="figure"><span id="fig:excel-drag"></span>
<iframe src="https://handsondataviz.org/images/02-spreadsheet/excel-drag-consec.gif" width="672" height="400px">
</iframe>
<p class="caption">
Figure 1.3: Caption here, with embedded link to <a href="https://handsondataviz.org/images/02-spreadsheet/excel-drag-consec.gif">animated GIF</a>.
</p>
</div>
<p>TODO: Decide and add conditional formatting for YouTube video</p>
</div>
<div id="tables" class="section level3 unnumbered" number="">
<h3>Tables</h3>
<p>Create tables in Markdown format, since it produces good output for HTML, PDF, Word, and Markdown. Use a tool such as <a href="https://www.tablesgenerator.com/markdown_tables">Tables Generator</a> to import significant table data in CSV format, format the column alignment as desired, and press Generate button to create table in Markdown format. For significant table data, save the CSV version in a GitHub repo for potential later use.</p>
<p>Add the Markdown table code shown below to auto-number (Table x) in HTML, PDF, Word.</p>
<table>
<caption><span id="tab:left-table">Table 1.1: </span> Left-justify content, remember blank Line</caption>
<thead>
<tr class="header">
<th align="left">Much Much Longer Header</th>
<th align="left">Short Header</th>
<th align="left">Short Header</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Left-justify text content with left-colons</td>
<td align="left">Less</td>
<td align="left">Here</td>
</tr>
<tr class="even">
<td align="left">Use more hyphens to grant more space to some columns</td>
<td align="left">Less</td>
<td align="left">Here</td>
</tr>
</tbody>
</table>
<table>
<caption><span id="tab:right-table">Table 1.2: </span> Right-justify content, remember blank line</caption>
<thead>
<tr class="header">
<th align="right">Header1</th>
<th align="right">Header2</th>
<th align="right">Header3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">123</td>
<td align="right">456</td>
<td align="right">789</td>
</tr>
<tr class="even">
<td align="right">Right-justify</td>
<td align="right">numerical content</td>
<td align="right">with right-colons</td>
</tr>
<tr class="odd">
<td align="right">Use equal hyphens</td>
<td align="right">to make equal space</td>
<td align="right">for all columns</td>
</tr>
</tbody>
</table>
<p>Workaround: Currently, our attempt to use Pandoc to directly convert a Bookdown-generated Markdown file to AsciiDoc fails because Bookdown creates the .md file with tables in .html format, not Markdown. One workaround is to paste the individual Markdown-formatted tables directly from the .Rmd into the large .md file prior to converting with Pandoc to AsciiDoc.</p>
</div>
<div id="bibliographic-references" class="section level3 unnumbered" number="">
<h3>Bibliographic references</h3>
<p>TODO: Set up Zotero to use Chicago-style footnotes (check O’Reilly style guide)</p>
</div>
<div id="pandoc-conversion" class="section level3 unnumbered" number="">
<h3>Pandoc Conversion</h3>
<ul>
<li>Download <a href="https://pandoc.org">Pandoc</a></li>
<li>TODO: Ask Ilya about my Pandoc PATH and/or overwriting older version</li>
<li>Set Bookdown to build the book as one large Markdown file (docs folder, suffix .md)</li>
<li>Use command line to navigate to subfolder with <code>pwd</code> and <code>cd</code>.</li>
<li>Convert with: <code>pandoc bookdown-testing.md --from markdown --to asciidoc --standalone --output bookdown-testing-modified.asciidoc</code></li>
<li>Confirm if AsciiDoc file matches <a href="https://docs.atlas.oreilly.com/writing_in_asciidoc.html">O’Reilly Atlas import style</a>.</li>
</ul>

</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="style-guide.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapter2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/handsondataviz/bookdown-testing/edit/master/01-chapter.Rmd",
"text": null
},
"download": ["bookdown-testing.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

</body>

</html>
